

<link href="https://cdn.jsdelivr.net/npm/@coreui/coreui@4.5.0/dist/css/coreui.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<!-- Main Admin Layout -->
<div class="admin-layout">
  <!-- Sidebar -->
  <c-sidebar class="sidebar" visible>
    <c-sidebar-brand class="sidebar-header">
      <h2>Admin</h2>
    </c-sidebar-brand>
    <c-sidebar-nav>
      <c-sidebar-nav-item routerLink="/dashboard/admin" routerLinkActive="active" class="menu-item">
        <i class="bi bi-speedometer2"></i>
        <span>Dashboard</span>
      </c-sidebar-nav-item>

      <c-sidebar-nav-item routerLink="/dashboard/admin/users" routerLinkActive="active" class="menu-item">
        <i class="bi bi-people"></i>
        <span>Utilisateur</span>
      </c-sidebar-nav-item>

      <c-sidebar-nav-item routerLink="/dashboard/admin/searcher" routerLinkActive="active" class="menu-item">
        <i class="bi bi-person-badge"></i>
        <span>Chercheurs</span>
      </c-sidebar-nav-item>

      <c-sidebar-nav-item routerLink="/dashboard/admin/articles" routerLinkActive="active" class="menu-item">
        <i class="bi bi-journal-text"></i>
        <span>Articles</span>
      </c-sidebar-nav-item>

      <c-sidebar-nav-item routerLink="/dashboard/event" routerLinkActive="active" class="menu-item">
        <i class="bi bi-diagram-3"></i>
        <span>Événements</span>
      </c-sidebar-nav-item>

      <c-sidebar-nav-divider class="menu-divider"></c-sidebar-nav-divider>

      <c-sidebar-nav-item routerLink="/dashboard/admin/settings" routerLinkActive="active" class="menu-item">
        <i class="bi bi-gear"></i>
        <span>Paramètres</span>
      </c-sidebar-nav-item>
    </c-sidebar-nav>
  </c-sidebar>

  <!-- Main Content -->
  <div class="main-content">
    <router-outlet></router-outlet> 
    <!-- Top Navbar - IMPROVED -->
    <c-header class="top-navbar">
      <div class="header-left">
        <c-header-toggler class="toggle-sidebar-btn" type="button">
          <i class="bi bi-list"></i>
        </c-header-toggler>
        <div class="page-title d-none d-md-block">
          <h4 class="mb-0"></h4>
        </div>
      </div>
      
      <div class="header-right">
        <div class="header-actions">
          <!-- Search Box -->
          <div class="search-box d-none d-md-flex">
            <input class="form-control form-control-sm" type="search" placeholder="Search...">
            <button class="search-btn" type="button">
              <i class="bi bi-search"></i>
            </button>
          </div>
          
          <!-- Notifications -->
          <div class="notification-wrapper">
            <button class="notification-btn" type="button">
              <i class="bi bi-bell"></i>
              <c-badge color="danger" position="top-end" shape="rounded-pill">5</c-badge>
            </button>
          </div>
          
          <!-- User Profile -->
          <c-dropdown alignment="end">
            <button cButton color="light" cDropdownToggle class="user-dropdown-btn">
              <c-avatar size="md" class="user-avatar"></c-avatar>
              <span class="d-none d-md-inline ms-2">Admin</span>
              <i class="bi bi-chevron-down ms-1"></i>
            </button>
           
          </c-dropdown>
        </div>
      </div>
    </c-header><div class="container-fluid py-4" *ngIf="!isLoading && event">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="event-detail-card shadow-sm border-0 card">
              <div class="card-header bg-white d-flex justify-content-between align-items-center">
                <h5 class="mb-0 text-primary">
                  <i class="bi bi-calendar-event me-2"></i>
                  {{ event.title }}
                </h5>
                <span class="badge rounded-pill" [ngClass]="getStatusBadgeClass(event.status)">
                  <i class="bi me-1"
                    [ngClass]="{
                      'bi-hourglass-split': event.status === 'UPCOMING',
                      'bi-play-fill': event.status === 'ONGOING',
                      'bi-check-circle-fill': event.status === 'COMPLETED',
                      'bi-x-circle-fill': event.status === 'CANCELLED'
                    }"></i>
                  {{ event.status }}
                </span>
              </div>
      
              <div class="card-body">
                <p class="text-muted mb-4">{{ event.description }}</p>
      
                <div class="row mb-3">
                  <div class="col-sm-6 mb-2">
                    <i class="bi bi-calendar3 text-secondary me-2"></i>
                    <strong>Date:</strong>
                    {{ formatDate(event.startDate) }} - {{ formatDate(event.endDate) }}
                  </div>
                  <div class="col-sm-6 mb-2">
                    <i class="bi bi-geo-alt text-secondary me-2"></i>
                    <strong>Lieu:</strong> {{ event.location }}
                  </div>
                </div>
      
                <div class="row mb-3">
                  <div class="col-sm-6 mb-2">
                    <i class="bi bi-tags text-secondary me-2"></i>
                    <strong>Type:</strong>
                    <span class="badge bg-info text-white">{{ event.eventType }}</span>
                  </div>
                  <div class="col-sm-6 mb-2">
                    <i class="bi bi-person-fill text-secondary me-2"></i>
                    <strong>Organisateur:</strong> 
                    {{ event.createdBy.firstName }} {{ event.createdBy.lastName }}<br>
                    <small class="text-muted">{{ event.createdBy.email }} ({{ event.createdBy.role }})</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Optional Loading Spinner -->
      <div *ngIf="isLoading" class="text-center mt-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Chargement...</span>
        </div>
      </div>
      